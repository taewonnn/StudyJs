<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Symbols</title>
</head>
<body>

    <script>
        // reduce
        // array.reduce(callback[, initialValue])
        // array : recude를 적용할 배열

        // 사용 예시 - 배열의 합 / 배열의 최대값 /  배열 각 요소의 문자열 길이 / 배열의 평균 
        
        // callback : 배열의 각 요소에 대해 실행할 콜백 함수. 콜백 함수는 다음 매개변수를 가진다.
            // accumulator : 콜백 함수의 반환 값 또는 이전 순회에서의 최종 결과값. 초기 값(initialValue)이 제공된 경우 첫 번째 순회에서는  initialValue로 설정된다.
            // currentValue : 현재 순회 중인 배열의 요소
            // currentIndex (옵션) : 현재 순회 중인 배열의 요소 인덱트
            // array (옵션) : reduce 함수가 호출된 배열
        
        // initialValue (옵션) : 콜백 함수의 첫 번째 순회에서 accumulator로 사용될 초기 값. 초기 값이 제공되지 않으면 배열의 첫 번째 요소가 초기 값이 된다.


        // 배열의 합
        const numbers = [1, 2, 3, 4, 5];
        const sum = numbers.reduce((accumulator, currentValue) => accumulator + currentValue, 0);
        // const sum = numbers.reduce((acc, cur) => acc + cur, 0);
        
        // => 
        // reduce() 함수가 호출되면 첫 번째 순회 단계에서 accumulator 값은 initialValue로 설정되거나 배열의 첫 번째 요소로 설정된다. 
        // 위 코드에서는 초기 값이 0이 주어졌으므로 처음 누적된 accumulator의 값은 0부터 시작한다.
        // reduce() 함수는 배열의 두 번째 요소부터 마지막 요소까지 순회하며, 각 요소에 대해 콜백 함수를 실행한다.
        // 콜백 함수는 현재 요소의 값을 가지고 필요한 연산을 수행한 후, 그 결과를 accumulator에 할당한다.
        // 다음 순회 단계에서 accumulator 값은 이전 단계에서 반환된 값으로 설정되고, 다음 요소에 대해 콜백 함수를 실행한다.
        // 배열의 마지막 요소까지 순회가 완료되면, reduce() 함수는 최종 accumulator 값을 반환한다.

        console.log(sum); //  15


        // 배열의 평균
        const numbers2 = [5, 7, 3, 9, 12];

        const average = numbers2.reduce((accumulator, currentValue, index, array) => {
            accumulator += currentValue;
            if (index === array.length - 1) {
                return accumulator / array.length;
            } else {
                return accumulator;
            }
        }, 0);

        console.log(average); // 출력 결과: 7.2

    </script>
</body>
</html>
